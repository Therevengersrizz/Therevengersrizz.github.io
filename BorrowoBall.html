<!DOCTYPE html>
<html lang="en">
<head>
    <img src="data:image/webp;base64,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"/>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="https://target.scene7.com/is/image/Target/GUEST_20affc7e-e0d7-4eb6-a6f3-68d13520f8be?wid=488&hei=488&fmt=pjpeg">
    <title>Borrow'o'Ball</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-image: url('background.jpg'); /* Replace with your image path */
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        .container {
            background-color: rgba(255, 255, 255, 0.9); /* Slightly transparent background */
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            width: 300px;
        }
        h1, h2 {
            text-align: center;
        }
        p {
            text-align: center;
            margin-bottom: 20px;
        }
        input[type="email"], input[type="password"] {
            width: 90%;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            border: 1px solid #ccc;
        }
        select {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            border: 1px solid #ccc;
        }
        button {
            width: 100%;
            padding: 10px;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            background-color: #4CAF50;
        }
        button:hover {
            background-color: #45a049;
        }
        .hidden {
            display: none;
        }
        .error {
            color: red;
            font-size: 0.9em;
            text-align: center;
        }
        .flashing-red {
            animation: flash 1s infinite;
            background-color: red;
        }
        @keyframes flash {
            0% { background-color: red; }
            50% { background-color: white; }
            100% { background-color: red; }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Welcome</h1>
    <p>Please enter your email and password to verify your identity and select a timer for returning the equipment, If you dont return the sports equipment 3 times you might see the deen</p>

    <form id="emailForm" class="emailForm">
        <h2>Enter your email</h2>
        <input type="email" id="email" placeholder="Email" required>
        <button type="button" onclick="showPasswordField()">Next</button>
    </form>

    <form id="passwordForm" class="passwordForm hidden">
        <h2>Verify with your password</h2>
        <input type="password" id="password" placeholder="Password" required>
        <button type="button" onclick="verifyPassword()">Submit</button>
        <div id="error" class="error hidden">Incorrect password. Please try again.</div>
    </form>

    <div id="timerSection" class="hidden">
        <h2>Select a timer</h2>
        <select id="timerSelect">
            <option value="300">5 minutes</option>
            <option value="600">10 minutes</option>
            <option value="1800">30 minutes</option>
            <option value="3600">1 hour</option>
            <option value="5400">1 hour 30 minutes</option>
            <option value="9000">2 hours 30 minutes</option>
            <option value="21600">6 hours</option>
        </select>
        <button id="startTimerBtn" onclick="startTimer()">Start Timer</button>
        <button id="cancelTimerBtn" onclick="cancelTimer()">Cancel</button>
        <div id="countdown"></div>
    </div>
</div>

<script>
    const storedCredentials = {
        "279356@mbi.school.nz": "123",
        "adam.maxey@mbi.school.nz": "123",
        "andrio.tobuzo@mbi.school.nz": "123",
        "868244@mbi.school.nz": "123",
        "1045757@mbi.school.nz": "123",
        "nigel.boy@mbi.school.nz": "123",
        "1077425@mbi.school.nz": "123",
        "1100603@mbi.school.nz": "123",
        "lizzy.burn@mbi.school.nz": "123",
        "810986@mbi.school.nz": "123",
        "805680@mbi.school.nz": "123",
        "emma.barlow@mbi.school.nz": "123",
        "1087989@mbi.school.nz": "123",
        "1111496@mbi.school.nz": "123",
        "1098980@mbi.school.nz": "123",
        "thomas.coghlan@mbi.school.nz": "123",
        "279356@mbi.school.nz": "123",
        "ashlee.richards@mbi.school.nz": "123",
        "115421@mbi.school.nz": "123",
        "1219330@mbi.school.nz": "123",
        "52822@mbi.school.nz": "123",
        "1343874@mbi.school.nz": "123",
        "anotheruser@example.com": "123",
        "yourname@example.com": "123"  // Your email and password added here
    };
    let timer;
    let countdownElement = document.getElementById('countdown');
    let timeLeft;

    function showPasswordField() {
        const email = document.getElementById("email").value;
        if (email in storedCredentials) {
            document.getElementById("emailForm").classList.add("hidden");
            document.getElementById("passwordForm").classList.remove("hidden");
        } else {
            alert("Email not found. Please try again.");
        }
    }

    function verifyPassword() {
        const email = document.getElementById("email").value;
        const password = document.getElementById("password").value;
        if (password === storedCredentials[email]) {
            document.getElementById("passwordForm").classList.add("hidden");
            document.getElementById("timerSection").classList.remove("hidden");
        } else {
            document.getElementById("error").classList.remove("hidden");
        }
    }

    function startTimer() {
        const startTimerBtn = document.getElementById("startTimerBtn");
        startTimerBtn.disabled = true; // Disable start button to prevent multiple timers

        const selectedTime = parseInt(document.getElementById("timerSelect").value);
        timeLeft = selectedTime;
        countdownElement.innerText = `Time left: ${formatTime(timeLeft)}`;
        timer = setInterval(countdown, 1000);
    }

    function countdown() {
        if (timeLeft <= 0) {
            clearInterval(timer);
            triggerFlashingScreen();
            sendEmailReminders();
        } else {
            timeLeft--;
            countdownElement.innerText = `Time left: ${formatTime(timeLeft)}`;
        }
    }

    function formatTime(seconds) {
        const minutes = Math.floor(seconds / 60);
        const remainingSeconds = seconds % 60;
        return `${minutes}:${remainingSeconds < 10 ? '0' : ''}${remainingSeconds}`;
    }

    function triggerFlashingScreen() {
        document.body.classList.add("flashing-red");
        alert("Time's up! Please return the equipment.");
    }

    function sendEmailReminders() {
        let email = document.getElementById("email").value;
        for (let i = 0; i < 3; i++) {
            setTimeout(() => {
                alert(`Reminder ${i + 1}: Please return the equipment.`);
                if (i === 2) {
                    alert("You need to see the dean for not returning the equipment.");
                }
            }, i * 5000); // 5 seconds between reminders for demo purposes
        }
    }

    function cancelTimer() {
        window.close(); // Close the tab/window
    }
</script>

</body>
</html>
